/* styles.css â€” Combined & polished (all batches + tweaks) */

/* ===== Reset ===== */
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; }
:root{
  --bg1: #f6fbff;
  --bg2: #eaf3ff;
  --text:#0b2545;
  --muted: rgba(11,37,69,0.6);
  --card-bg: rgba(255,255,255,0.9);
  --accent: #0b63ff;
  --radius: 12px;
  --glass: rgba(255,255,255,0.6);
  --success: #16a34a;
  --error: #ef4444;
  --transition: 240ms cubic-bezier(.2,.8,.2,1);
}

/* Dark theme overrides */
:root.dark {
  --bg1: #071024;
  --bg2: #08122a;
  --text: #e6eefc;
  --muted: rgba(230,238,252,0.72);
  --card-bg: rgba(6,12,24,0.6);
  --accent: #4da3ff;
  --glass: rgba(255,255,255,0.03);
}

/* Weather-based backgrounds (JS will toggle) */
body.weather-clear { background: linear-gradient(180deg, #fff9db 0%, #ffeaa1 100%); }
body.weather-clouds { background: linear-gradient(180deg, #e9eef6 0%, #dbe7f8 100%); }
body.weather-rain { background: linear-gradient(180deg, #e6f0fb 0%, #c7ddf7 100%); }
body.weather-snow { background: linear-gradient(180deg, #eef7ff 0%, #f7fbff 100%); }
body.weather-thunder { background: linear-gradient(180deg, #f9f5ff 0%, #ece7ff 100%); }
body.weather-mist { background: linear-gradient(180deg, #f5f7f9 0%, #eaf0f4 100%); }

/* Base page */
body{
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color: var(--text);
  background: linear-gradient(180deg, var(--bg1) 0%, var(--bg2) 100%);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  transition: background var(--transition), color var(--transition);
  padding-bottom: 3rem;
}

/* Container & main column */
.container {
  max-width: 1100px;
  width: 94%;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1.25rem;
  padding-right: 1.25rem;
}
.main {
  display: block;
  max-width: 780px;
  margin: 1.25rem auto;
}

/* Header */
.site-header {
  border-bottom: 1px solid rgba(11,37,69,0.06);
  background: var(--glass);
  backdrop-filter: blur(6px);
}
.site-header .container {
  display:flex; align-items:center; justify-content:space-between; gap:1rem; padding:1rem 0;
}
.logo { font-weight:700; font-size:1.25rem; letter-spacing:.4px; }

/* theme toggle */
.site-header .theme-toggle,
.theme-toggle {
  background: transparent;
  border: none;
  font-size: 1.15rem;
  cursor: pointer;
  padding: .25rem .5rem;
  border-radius: 8px;
  transition: background .18s;
}
.site-header .theme-toggle:hover { background: rgba(11,37,69,0.03); }

/* Search & controls */
.search-section { margin-top: 1.25rem; margin-bottom: 1rem; position:relative; }
.search-form {
  display:flex; gap:0.5rem; max-width:720px; align-items:center;
}
.search-form input {
  flex:1; padding:.55rem .75rem; border-radius:10px; border:1px solid rgba(11,37,69,0.08);
  font-size:.98rem; background:transparent; color:var(--text);
  transition: box-shadow var(--transition), border-color var(--transition);
}
.search-form input::placeholder { color: rgba(11,37,69,0.45); }
.search-form input:focus {
  outline:none; box-shadow: 0 6px 18px rgba(11,99,255,0.08); border-color:var(--accent);
}
/* Buttons */
.search-form button#searchBtn {
  background:var(--accent); color:white; border:none; padding:.55rem .85rem; border-radius:8px; cursor:pointer; font-weight:600;
  transition: transform 120ms ease, box-shadow var(--transition);
}
.search-form button#searchBtn:active{ transform: translateY(1px); }
.search-form button#locationBtn {
  padding:.55rem .7rem; border-radius: 999px; background: transparent; border: 1px solid rgba(11,37,69,0.06); cursor: pointer;
}
.controls-row { display:flex; gap:.5rem; margin-top:.5rem; align-items:center; }
.message { color:var(--muted); font-size:.95rem; min-height:1.2rem; }

/* Spinner (use explicit #spinner element) */
#spinner { margin-top: 0.6rem; margin-left: 0.25rem; display:flex; gap:.4rem; align-items:center; }
#spinner .dot1, #spinner .dot2, #spinner .dot3 {
  width:7px; height:7px; border-radius:50%; background:var(--accent); opacity:.9; transform: translateY(0);
  animation: bounce 0.9s infinite ease-in-out;
}
#spinner .dot2 { animation-delay: .12s; }
#spinner .dot3 { animation-delay: .24s; }
@keyframes bounce {
  0%, 80%, 100% { transform: translateY(0); opacity:.9; }
  40% { transform: translateY(-6px); opacity:1; }
}

/* Weather card */
.weather-card {
  margin-top:1.25rem; padding:1rem; background: var(--card-bg);
  border-radius: var(--radius); box-shadow: 0 12px 30px rgba(11,37,69,0.06);
  max-width:760px; transition: transform var(--transition), box-shadow var(--transition);
}
.weather-card:focus-within { box-shadow: 0 18px 40px rgba(11,37,69,0.08); transform: translateY(-3px); }
.weather-head { display:flex; align-items:center; gap:1rem; }
.city h2 { font-size:1.25rem; margin-bottom:0.15rem; }
.desc { color:var(--muted); font-size:.95rem; }

/* Forecast */
.forecast-container { max-width: 760px; margin: 1rem auto 0; }
.forecast-row { display:flex; gap:.6rem; align-items:flex-start; flex-wrap:wrap; }
.forecast-card {
  background: rgba(255,255,255,0.85); padding:.6rem; border-radius:10px; min-width:110px; text-align:center;
  box-shadow: 0 8px 18px rgba(11,37,69,0.04);
}
:root.dark .forecast-card { background: rgba(10,14,20,0.45); }
.f-date { font-size:.9rem; color:var(--muted); margin-bottom:.25rem; }
.f-desc { color:var(--muted); font-size:.85rem; margin-top:.25rem; min-height:34px; }
.f-temps { font-weight:600; margin-top:.45rem; }

/* Details chips */
.weather-details { display:flex; gap:.75rem; flex-wrap:wrap; margin-top:.6rem; }
.detail {
  padding: .45rem .6rem; min-width: 92px; font-size: .95rem; display:flex; flex-direction:column; gap: .28rem;
  background: rgba(0,0,0,0.02); border-radius: 10px;
}
:root.dark .detail { background: rgba(255,255,255,0.02); }
.detail strong { font-size: .95rem; }
.detail div { color: var(--muted); font-size: .92rem; }

/* Favorites */
.favorites { margin-top:1.5rem; }
.favorite-list, .favorite-list * { box-sizing: border-box; }
.favorite-list { display:flex; gap:.45rem; flex-wrap:wrap; margin-top:0.5rem; }
.favorite-btn { padding: .4rem .65rem; font-size: .95rem; border-radius: 999px;
  background: linear-gradient(180deg, rgba(11,99,255,0.06), rgba(11,99,255,0.02)); border: 1px solid rgba(11,99,255,0.12);
  cursor: pointer;
}
.fav-pill { display:inline-flex; align-items:center; gap:.4rem; margin:.2rem; }
.favorite-remove { background: transparent; border: none; font-size: 1.05rem; line-height: 1; padding: .15rem .45rem; border-radius: 6px; cursor: pointer; color: rgba(11,37,69,0.55); }
.favorite-remove:hover { background: rgba(11,37,69,0.04); color: rgba(11,37,69,0.8); transform: translateY(-1px); }
:root.dark .favorite-remove { color: rgba(230,238,252,0.7); }

/* Footer */
.site-footer { margin-top:2rem; padding:1rem 0; color:var(--muted); font-size:0.9rem; }

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation: none !important; }
}

/* Responsive */
@media (max-width:800px) { .weather-head { flex-direction:row; gap:.6rem; align-items:center; } }
@media (max-width:520px) {
  .search-form { flex-direction:column; align-items:stretch; }
  .search-form button#searchBtn { width:100%; }
  .weather-card { padding: .9rem; }
  .city h2 { font-size: 1.05rem; }
}

/* Utility */
.visually-hidden { position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap; }

/* Accessibility focus improvements */
:focus { outline: none; }
:focus-visible { outline: 3px solid rgba(11,99,255,0.22); outline-offset: 3px; border-radius: 8px; }
.favorite-remove:focus-visible, .fav-open:focus-visible, .favorite-btn:focus-visible { outline: 3px solid rgba(11,99,255,0.28); outline-offset: 2px; }
@media (prefers-contrast: more) {
  body { background: #ffffff; color: #000000; }
  .weather-card { background: #fff; box-shadow: none; border: 2px solid #111; }
}
